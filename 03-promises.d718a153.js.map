{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,QAASC,SAASC,cAAc,uBAChCC,OAAQF,SAASC,cAAc,sBAC/BE,SAAUH,SAASC,cAAc,wBACjCG,OAAQJ,SAASC,cAAc,SAEjCH,EAAKM,OAAOC,iBAAiB,SAK7B,SAAqBC,GACnBC,EAAID,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,K,IALpCZ,EAAKM,OAAOC,iBAAiB,UAQ7B,SAAsBC,GACpBA,EAAIK,iBAEJ,MAAMC,EAASC,OAAON,EAAIK,QACpBE,EAAOD,OAAON,EAAIO,MACxB,IAAIC,EAAQF,OAAON,EAAIS,OAEvB,IAAK,IAAIC,EAAI,EAAGA,GAAKL,EAAQK,IAC3BC,EAAcD,EAAGF,GACdI,MAAK,EAACC,SAAEA,EAAQJ,MAAEA,MACjBK,EAAAzB,GAAS0B,OAAOC,QACd,uBAAqBH,QAAiBJ,MAAU,IAGnDQ,OAAM,EAACJ,SAAEA,EAAQJ,MAAEA,MAClBK,EAAAzB,GAAS0B,OAAOG,QACd,sBAAoBL,QAAeJ,MAAU,IAInDD,GAASD,EAGXR,EAAIoB,cAAcC,O,IA7BpB,MAAMpB,EAAM,GAgCZ,SAASW,EAAcE,EAAUJ,GAC/B,MAAMY,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,aAAY,KACNN,EACFI,EAAQ,C,SAAEZ,E,MAAUJ,IAEpBiB,EAAO,C,SAAEb,E,MAAUJ,GAAQ,GAE5BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delayEl: document.querySelector(\"input[name='delay']\"),\n  stepEl: document.querySelector(\"input[name='step']\"),\n  amountEl: document.querySelector(\"input[name='amount']\"),\n  formEl: document.querySelector('form'),\n};\nrefs.formEl.addEventListener('input', onFormInput);\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nconst obj = {};\n\nfunction onFormInput(evt) {\n  obj[evt.target.name] = evt.target.value;\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  const amount = Number(obj.amount);\n  const step = Number(obj.step);\n  let delay = Number(obj.delay);\n\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n\n    delay += step;\n  }\n\n  evt.currentTarget.reset();\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setInterval(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n"],"names":["$1GAPJ","parcelRequire","$47d4ff9957288465$var$refs","delayEl","document","querySelector","stepEl","amountEl","formEl","addEventListener","evt","$47d4ff9957288465$var$obj","target","name","value","preventDefault","amount","Number","step","delay1","delay","i","$47d4ff9957288465$var$createPromise","then","position","$parcel$interopDefault","Notify","success","catch","failure","currentTarget","reset","shouldResolve","Math","random","Promise","resolve","reject","setInterval"],"version":3,"file":"03-promises.d718a153.js.map"}